<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>가게 정보 등록 - 맛집 탐색기</title>
    <link rel="stylesheet" href="/css/style.css">
    <link rel="stylesheet" href="/css/restaurant-register.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    <!-- 카카오맵 API -->
    <script type="text/javascript" src="//dapi.kakao.com/v2/maps/sdk.js?appkey=71618b59fd9edd408b6aa0e6ed2122c8&libraries=services"></script>
</head>
<body>
<header>
    <div class="container">
        <div class="logo">
            <i class="fas fa-utensils"></i>
            <h1>맛집 탐색기</h1>
        </div>
        <nav>
            <ul>
                <li><a href="/">홈</a></li>
                <li><a href="/owner/dashboard">사장님 대시보드</a></li>
                <li><a href="/owner/register" class="active">가게 등록</a></li>
                <li><a href="/logout">로그아웃</a></li>
            </ul>
        </nav>
        <div class="mobile-menu-btn">
            <span></span>
            <span></span>
            <span></span>
        </div>
    </div>
</header>

<section class="register-header">
    <div class="container">
        <h2>가게 정보 등록</h2>
        <p>맛집 탐색기에 등록하고 더 많은 고객들에게 가게를 알려보세요!</p>
    </div>
</section>

<section class="register-content">
    <div class="container">
        <div class="progress-bar">
            <div class="progress-step active" data-step="1">
                <div class="step-number">1</div>
                <div class="step-text">기본 정보</div>
            </div>
            <div class="progress-line"></div>
            <div class="progress-step" data-step="2">
                <div class="step-number">2</div>
                <div class="step-text">영업 정보</div>
            </div>
            <div class="progress-line"></div>
            <div class="progress-step" data-step="3">
                <div class="step-number">3</div>
                <div class="step-text">메뉴 등록</div>
            </div>
            <div class="progress-line"></div>
            <div class="progress-step" data-step="4">
                <div class="step-number">4</div>
                <div class="step-text">사진 등록</div>
            </div>
        </div>

        <form id="restaurant-register-form" class="register-form">
            <!-- 1단계: 기본 정보 -->
            <div class="form-step active" id="step-1">
                <h3>기본 정보 입력</h3>
                <div class="form-group">
                    <label for="restaurant-name">가게 이름 <span class="required">*</span></label>
                    <input type="text" id="restaurant-name" name="name" required placeholder="가게 이름을 입력하세요">
                </div>

                <div class="form-group">
                    <label for="restaurant-category">카테고리 <span class="required">*</span></label>
                    <select id="restaurant-category" name="category" required>
                        <option value="">카테고리 선택</option>
                        <option value="korean">한식</option>
                        <option value="chinese">중식</option>
                        <option value="japanese">일식</option>
                        <option value="western">양식</option>
                        <option value="cafe">카페/디저트</option>
                        <option value="fastfood">패스트푸드</option>
                        <option value="asian">아시안</option>
                        <option value="fusion">퓨전</option>
                        <option value="etc">기타</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="restaurant-description">가게 소개 <span class="required">*</span></label>
                    <textarea id="restaurant-description" name="description" rows="5" required placeholder="고객들에게 보여질 가게 소개글을 작성해주세요"></textarea>
                    <div class="word-count"><span id="description-count">0</span>/500자</div>
                </div>

                <div class="form-group">
                    <label for="restaurant-tags">가게 태그 (최대 5개)</label>
                    <div class="tags-container">
                        <div class="tags-input">
                            <input type="text" id="restaurant-tags-input" placeholder="태그 입력 후 엔터">
                        </div>
                        <div class="tags-list" id="tags-list"></div>
                        <input type="hidden" id="restaurant-tags" name="tags">
                    </div>
                    <div class="tags-suggestions">
                        <span class="tag-suggestion">주차가능</span>
                        <span class="tag-suggestion">단체석</span>
                        <span class="tag-suggestion">배달가능</span>
                        <span class="tag-suggestion">포장가능</span>
                        <span class="tag-suggestion">와이파이</span>
                        <span class="tag-suggestion">예약가능</span>
                    </div>
                </div>

                <div class="form-group">
                    <label>편의 시설</label>
                    <div class="facilities-container">
                        <div class="facility-item">
                            <input type="checkbox" id="facility-parking" name="facilities" value="parking">
                            <label for="facility-parking"><i class="fas fa-parking"></i> 주차</label>
                        </div>
                        <div class="facility-item">
                            <input type="checkbox" id="facility-wifi" name="facilities" value="wifi">
                            <label for="facility-wifi"><i class="fas fa-wifi"></i> 와이파이</label>
                        </div>
                        <div class="facility-item">
                            <input type="checkbox" id="facility-card" name="facilities" value="card">
                            <label for="facility-card"><i class="fas fa-credit-card"></i> 카드결제</label>
                        </div>
                        <div class="facility-item">
                            <input type="checkbox" id="facility-kids" name="facilities" value="kids">
                            <label for="facility-kids"><i class="fas fa-baby"></i> 유아의자</label>
                        </div>
                        <div class="facility-item">
                            <input type="checkbox" id="facility-group" name="facilities" value="group">
                            <label for="facility-group"><i class="fas fa-user-friends"></i> 단체석</label>
                        </div>
                        <div class="facility-item">
                            <input type="checkbox" id="facility-nosmoke" name="facilities" value="nosmoke">
                            <label for="facility-nosmoke"><i class="fas fa-smoking-ban"></i> 금연</label>
                        </div>
                    </div>
                </div>

                <div class="form-actions">
                    <button type="button" class="btn-next">다음 단계 <i class="fas fa-arrow-right"></i></button>
                </div>
            </div>

            <!-- 2단계: 영업 정보 -->
            <div class="form-step" id="step-2">
                <h3>영업 정보 입력</h3>
                <div class="form-group">
                    <label for="restaurant-address">주소 <span class="required">*</span></label>
                    <div class="address-input">
                        <input type="text" id="restaurant-address" name="address" required placeholder="주소 검색" readonly>
                        <button type="button" id="search-address-btn">주소 검색</button>
                    </div>
                    <input type="text" id="restaurant-address-detail" name="addressDetail" placeholder="상세 주소 입력">
                    <input type="hidden" id="restaurant-lat" name="lat">
                    <input type="hidden" id="restaurant-lng" name="lng">
                    <div id="address-map" style="width:100%;height:300px;margin-top:10px;"></div>
                </div>

                <div class="form-group">
                    <label for="restaurant-phone">전화번호 <span class="required">*</span></label>
                    <input type="tel" id="restaurant-phone" name="phone" required placeholder="- 없이 숫자만 입력">
                </div>

                <div class="form-group">
                    <label for="restaurant-website">홈페이지</label>
                    <input type="url" id="restaurant-website" name="website" placeholder="http:// 포함하여 입력 (선택사항)">
                </div>

                <div class="form-group">
                    <label>영업 시간 <span class="required">*</span></label>
                    <div class="business-hours">
                        <div class="day-hours">
                            <div class="day-label">
                                <input type="checkbox" id="monday-open" checked>
                                <label for="monday-open">월요일</label>
                            </div>
                            <div class="hours-input">
                                <select id="monday-start" name="mondayStart">
                                    <option value="휴무일">휴무일</option>
                                    <option value="00:00">00:00</option>
                                    <option value="01:00">01:00</option>
                                    <!-- 시간 옵션 생략 -->
                                    <option value="23:00">23:00</option>
                                    <option value="24:00">24:00</option>
                                </select>
                                <span class="time-separator">~</span>
                                <select id="monday-end" name="mondayEnd">
                                    <option value="휴무일">휴무일</option>
                                    <option value="00:00">00:00</option>
                                    <option value="01:00">01:00</option>
                                    <!-- 시간 옵션 생략 -->
                                    <option value="23:00">23:00</option>
                                    <option value="24:00">24:00</option>
                                </select>
                                <input type="text" id="monday-last-order" name="mondayLastOrder" placeholder="라스트오더 (선택)">
                            </div>
                        </div>

                        <!-- 다른 요일도 같은 구조로 반복 (생략) -->

                        <div class="day-hours">
                            <div class="hours-copy">
                                <button type="button" id="copy-hours-btn">모든 요일에 같은 시간 적용</button>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="form-group">
                    <label for="price-range">가격대 <span class="required">*</span></label>
                    <select id="price-range" name="priceRange" required>
                        <option value="">가격대 선택</option>
                        <option value="low">~ 1만원</option>
                        <option value="medium">1만원 ~ 3만원</option>
                        <option value="high">3만원 ~</option>
                    </select>
                </div>

                <div class="form-actions">
                    <button type="button" class="btn-prev"><i class="fas fa-arrow-left"></i> 이전 단계</button>
                    <button type="button" class="btn-next">다음 단계 <i class="fas fa-arrow-right"></i></button>
                </div>
            </div>

            <!-- 3단계: 메뉴 등록 -->
            <div class="form-step" id="step-3">
                <h3>메뉴 등록</h3>
                <div class="menu-container">
                    <div class="menu-category">
                        <div class="form-group">
                            <label>메뉴 카테고리</label>
                            <div class="category-tabs">
                                <button type="button" class="category-tab active" data-category="signature">대표 메뉴</button>
                                <button type="button" class="category-tab" data-category="main">식사 메뉴</button>
                                <button type="button" class="category-tab" data-category="side">사이드 메뉴</button>
                                <button type="button" class="category-tab" data-category="beverage">음료/주류</button>
                            </div>
                        </div>
                    </div>

                    <div class="menu-items-container" id="signature-menu">
                        <div class="form-group">
                            <div class="menu-items-header">
                                <label>대표 메뉴 <span class="required">*</span></label>
                                <button type="button" id="add-signature-menu" class="btn-add-menu"><i class="fas fa-plus"></i> 메뉴 추가</button>
                            </div>

                            <div class="menu-items-list" id="signature-menu-list">
                                <div class="menu-item-row">
                                    <div class="menu-item-image">
                                        <label for="menu-image-1">
                                            <div class="image-placeholder">
                                                <i class="fas fa-camera"></i>
                                                <span>사진 등록</span>
                                            </div>
                                            <img src="" alt="" style="display: none;">
                                        </label>
                                        <input type="file" id="menu-image-1" class="menu-image-input" accept="image/*" style="display: none;">
                                    </div>
                                    <div class="menu-item-info">
                                        <input type="text" class="menu-item-name" placeholder="메뉴명" required>
                                        <textarea class="menu-item-description" placeholder="메뉴 설명 (선택사항)"></textarea>
                                        <div class="menu-item-price">
                                            <input type="number" class="menu-price-input" placeholder="가격" required> 원
                                        </div>
                                    </div>
                                    <button type="button" class="btn-remove-menu"><i class="fas fa-trash-alt"></i></button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- 다른 메뉴 카테고리도 같은 구조로 반복 (숨겨진 상태로 시작) -->
                    <div class="menu-items-container" id="main-menu" style="display: none;">
                        <!-- 동일한 구조의 폼 -->
                    </div>

                    <div class="menu-items-container" id="side-menu" style="display: none;">
                        <!-- 동일한 구조의 폼 -->
                    </div>

                    <div class="menu-items-container" id="beverage-menu" style="display: none;">
                        <!-- 동일한 구조의 폼 -->
                    </div>
                </div>

                <div class="form-actions">
                    <button type="button" class="btn-prev"><i class="fas fa-arrow-left"></i> 이전 단계</button>
                    <button type="button" class="btn-next">다음 단계 <i class="fas fa-arrow-right"></i></button>
                </div>
            </div>

            <!-- 4단계: 사진 등록 -->
            <div class="form-step" id="step-4">
                <h3>가게 사진 등록</h3>
                <div class="form-group">
                    <label>가게 대표 사진 <span class="required">*</span></label>
                    <div class="restaurant-main-image">
                        <label for="main-image-upload">
                            <div class="main-image-placeholder">
                                <i class="fas fa-camera"></i>
                                <span>대표 사진 등록</span>
                                <p>가게의 첫인상을 결정할 대표 사진을 등록해주세요</p>
                            </div>
                            <img id="main-image-preview" src="" alt="" style="display: none;">
                        </label>
                        <input type="file" id="main-image-upload" name="mainImage" accept="image/*" required style="display: none;">
                    </div>
                </div>

                <div class="form-group">
                    <label>추가 사진 (최대 10장)</label>
                    <div class="restaurant-images">
                        <div class="image-upload-container" id="image-upload-container">
                            <div class="image-upload-item">
                                <label for="image-upload-1">
                                    <div class="image-placeholder">
                                        <i class="fas fa-plus"></i>
                                    </div>
                                    <img src="" alt="" style="display: none;">
                                </label>
                                <input type="file" id="image-upload-1" class="image-upload" accept="image/*" style="display: none;">
                                <button type="button" class="btn-remove-image" style="display: none;"><i class="fas fa-times"></i></button>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="form-group">
                    <div class="terms-agreement">
                        <input type="checkbox" id="terms-agree" required>
                        <label for="terms-agree">
                            <a href="/terms" target="_blank">이용약관</a>과
                            <a href="/privacy" target="_blank">개인정보 처리방침</a>에 동의합니다.
                        </label>
                    </div>
                </div>

                <div class="form-actions">
                    <button type="button" class="btn-prev"><i class="fas fa-arrow-left"></i> 이전 단계</button>
                    <button type="submit" class="btn-submit">가게 등록 완료</button>
                </div>
            </div>
        </form>
    </div>
</section>

<div class="address-search-modal" id="addressSearchModal">
    <div class="modal-content">
        <div class="modal-header">
            <h3>주소 검색</h3>
            <button class="modal-close"><i class="fas fa-times"></i></button>
        </div>
        <div class="modal-body">
            <div class="search-input">
                <input type="text" id="address-keyword" placeholder="도로명 또는 지번 주소 입력">
                <button id="address-search-button"><i class="fas fa-search"></i></button>
            </div>
            <div class="search-results" id="address-results">
                <!-- 검색 결과가 여기에 표시됩니다 -->
            </div>
        </div>
    </div>
</div>

<footer>
    <div class="container">
        <div class="footer-content">
            <div class="footer-info">
                <div class="logo">
                    <i class="fas fa-utensils"></i>
                    <h2>맛집 탐색기</h2>
                </div>
                <p>내 주변의 맛집을 쉽고 빠르게 찾아보세요</p>
            </div>
            <div class="footer-links">
                <div class="link-group">
                    <h4>서비스</h4>
                    <ul>
                        <li><a href="/">맛집 찾기</a></li>
                        <li><a href="/reviews">리뷰 작성</a></li>
                        <li><a href="/favorites">즐겨찾기</a></li>
                    </ul>
                </div>
                <div class="link-group">
                    <h4>정보</h4>
                    <ul>
                        <li><a href="#">서비스 소개</a></li>
                        <li><a href="#">이용약관</a></li>
                        <li><a href="#">개인정보처리방침</a></li>
                    </ul>
                </div>
                <div class="link-group">
                    <h4>문의</h4>
                    <ul>
                        <li><a href="#">고객센터</a></li>
                        <li><a href="#">제휴문의</a></li>
                        <li><a href="#">광고문의</a></li>
                    </ul>
                </div>
            </div>
        </div>
        <div class="copyright">
            <p>&copy; 2025 맛집 탐색기. All rights reserved.</p>
        </div>
    </div>
</footer>

<script src="/js/main.js"></script>
<script src="/js/restaurant-register.js"></script>
</body>
</html>